<!DOCTYPE html>
<html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <!-- Standard Meta -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

        <!-- Site Properities -->
        <title>时聆心语 - MySQL基础</title>

        <link rel="stylesheet" type="text/css" href="../../../../assets/semantic.min.css">
        <link rel="stylesheet" type="text/css" href="../../../../assets/site.css">
		    <link rel="stylesheet" type="text/css" href="../../../../assets/ch-pygments.css">
		    <link rel="stylesheet" type="text/css" href="../../../../assets/readtheorg_smpl.css">
    </head>

    <body id="gh-site" class="pushable">
        <div class="ui vertical inverted sidebar menu right" id="_dst_toc_">
        </div>
        <div class="pusher">
            <!-- Global Header -->
            <div class="page header">
                <div class="ui main container">
                    <div class="ui borderless menu">
                        <a href="../../../../" class="item"><img src="../../../../favicon.ico"></a>
                        <a href="../../../../archives" class="item">Archives</a>
                        <a href="../../../../tags" class="item">Tags</a>
                        <a href="../../../../about" class="item">About</a>
                    </div>
                </div>
            </div>
            <div class="ui hidden divider"></div>
            <div class="page content" data-iframe-height>
                <div class="ui main container">
                    
<div class="ui piled segments">
    <div class="ui segment">
        <div class="ui tiny header">
            <h1>MySQL基础</h1>
        </div>
    </div>
    <div class="ui blue segment">
        <div class="ui basic grey label">Posted at:<div class="detail">October 13, 2017</div>
</div>
        <div class="tags">
<div class="ui teal tag label">Tags:</div>
<a class="ui basic label" href="../../../../tags/mysql">MySQL</a><a class="ui basic label" href="../../../../tags/sql">SQL</a><a class="ui basic label" href="../../../../tags/database">Database</a>
</div>
        <div class="ui hidden divider"></div>
        <article>
            <nav id="_SRC_TOC_" style="display:none">
<ul>
<li><a href="#%E7%AE%80%E4%BB%8B"><span class="toc-section-number">1</span> 简介</a></li>
<li><a href="#%E5%AE%89%E8%A3%85"><span class="toc-section-number">2</span> 安装</a></li>
<li><a href="#%E8%BF%9E%E6%8E%A5"><span class="toc-section-number">3</span> 连接</a></li>
<li>
<a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA%E5%88%A0%E9%99%A4"><span class="toc-section-number">4</span> 数据库创建/删除</a><ul>
<li><a href="#%E5%88%9B%E5%BB%BA"><span class="toc-section-number">4.1</span> 创建</a></li>
<li><a href="#%E5%88%A0%E9%99%A4"><span class="toc-section-number">4.2</span> 删除</a></li>
</ul>
</li>
<li>
<a href="#%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA%E5%88%A0%E9%99%A4"><span class="toc-section-number">5</span> 表的创建/删除</a><ul>
<li><a href="#%E5%88%9B%E5%BB%BA-1"><span class="toc-section-number">5.1</span> 创建</a></li>
<li><a href="#%E5%88%A0%E9%99%A4-1"><span class="toc-section-number">5.2</span> 删除</a></li>
</ul>
</li>
<li><a href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-section-number">6</span> 插入数据</a></li>
<li><a href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="toc-section-number">7</span> 查询数据</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-section-number">8</span> 修改数据</a></li>
<li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-section-number">9</span> 删除数据</a></li>
<li><a href="#where"><span class="toc-section-number">10</span> WHERE</a></li>
<li><a href="#andor"><span class="toc-section-number">11</span> AND、OR</a></li>
<li><a href="#order-by"><span class="toc-section-number">12</span> ORDER BY</a></li>
<li><a href="#distinct"><span class="toc-section-number">13</span> DISTINCT</a></li>
<li>
<a href="#%E5%88%AB%E5%90%8Dalias"><span class="toc-section-number">14</span> 别名Alias</a><ul>
<li><a href="#%E8%A1%A8%E7%9A%84%E5%88%AB%E5%90%8D"><span class="toc-section-number">14.1</span> 表的别名</a></li>
<li><a href="#%E5%88%97%E7%9A%84%E5%88%AB%E5%90%8D"><span class="toc-section-number">14.2</span> 列的别名</a></li>
</ul>
</li>
<li><a href="#join"><span class="toc-section-number">15</span> JOIN</a></li>
<li><a href="#union"><span class="toc-section-number">16</span> UNION</a></li>
</ul>
</nav>
<h1 id="简介">
<span class="header-section-number">1</span> 简介</h1>
<p>MySQL是最流行的关系型数据库管理系统，本文主要介绍MySQL的基本知识。</p>
<p>另外SQL是结构化查询语言(Structured Query Language)，适用于多种数据库。<br>
本文示例主要采用标准SQL，尽量不涉及非标准的SQL。</p>
<h1 id="安装">
<span class="header-section-number">2</span> 安装</h1>
<p>在 <a href="https://dev.mysql.com/downloads/mysql/">官网下载地址</a> 根据你的系统选择社区版下载、安装即可。</p>
<h1 id="连接">
<span class="header-section-number">3</span> 连接</h1>
<p>通过以下命令可以连接到MySQL数据库。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="ex">mysql</span> -u root -p</a></code></pre></div>
<p>如果连接不成功，可能是MySQL服务还没启动。</p>
<h1 id="数据库创建删除">
<span class="header-section-number">4</span> 数据库创建/删除</h1>
<h2 id="创建">
<span class="header-section-number">4.1</span> 创建</h2>
<p>CREATE DATABASE 用于创建数据库。</p>
<div class="sourceCode" id="cb2" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">CREATE</span> <span class="kw">DATABASE</span> database_name;</a></code></pre></div>
<p>比如说建立名为my_db的数据库：</p>
<div class="sourceCode" id="cb3" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">CREATE</span> <span class="kw">DATABASE</span> my_db;</a></code></pre></div>
<h2 id="删除">
<span class="header-section-number">4.2</span> 删除</h2>
<p>DROP语句可以删除数据库。</p>
<div class="sourceCode" id="cb4" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">DROP</span> <span class="kw">DATABASE</span> database_name;</a></code></pre></div>
<h1 id="表的创建删除">
<span class="header-section-number">5</span> 表的创建/删除</h1>
<h2 id="创建-1">
<span class="header-section-number">5.1</span> 创建</h2>
<p>CREATE TABLE 语句用于创建数据库中的表。</p>
<div class="sourceCode" id="cb5" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">CREATE</span> <span class="kw">TABLE</span> table_name</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">    (</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">    column1_name column2_type,</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">    column2_name column2_type,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">    ...</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">    );</a></code></pre></div>
<p>比如说建立名为Persons的表：</p>
<div class="sourceCode" id="cb6" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">CREATE</span> <span class="kw">TABLE</span> Persons</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">    (</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">    <span class="kw">Id</span>        <span class="dt">int</span>,</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">    LastName  <span class="dt">varchar</span>(<span class="dv">255</span>),</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">    FirstName <span class="dt">varchar</span>(<span class="dv">255</span>),</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">    Address   <span class="dt">varchar</span>(<span class="dv">255</span>)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">    );</a></code></pre></div>
<h2 id="删除-1">
<span class="header-section-number">5.2</span> 删除</h2>
<p>DROP TABLE语句可用于删除表。</p>
<div class="sourceCode" id="cb7" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">DROP</span> <span class="kw">TABLE</span> table_name;</a></code></pre></div>
<h1 id="插入数据">
<span class="header-section-number">6</span> 插入数据</h1>
<p>INSERT INTO语句可用于向表中插入新的一行。</p>
<div class="sourceCode" id="cb8" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">INSERT</span> <span class="kw">INTO</span> table_name (column1, column2, ..., columnN)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">    <span class="kw">VALUES</span> (value1, value2, ..., valueN);</a></code></pre></div>
<p>比如说在Persons表插入新的一行：</p>
<div class="sourceCode" id="cb9" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">INSERT</span> <span class="kw">INTO</span> Persons <span class="kw">VALUES</span> (<span class="dv">1</span>, <span class="st">'Wang'</span>, <span class="st">'Xiaoming'</span>, <span class="st">'Xixiang Avenue'</span>);</a></code></pre></div>
<p>又或者只在指定列中插入数据(其他列数据将为空)：</p>
<div class="sourceCode" id="cb10" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">INSERT</span> <span class="kw">INTO</span> Persons (LastName, FirstName, Address)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">    <span class="kw">VALUES</span> (<span class="st">'Li'</span>, <span class="st">'Daren'</span>, <span class="st">'Xixiang Avenue'</span>);</a></code></pre></div>
<h1 id="查询数据">
<span class="header-section-number">7</span> 查询数据</h1>
<p>SELECT 语句用于从表中选取数据。<br>
其中 <code>SELECT *</code> 代表选取所有列。</p>
<div class="sourceCode" id="cb11" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">SELECT</span> columnA_name,columnB_name,... <span class="kw">FROM</span> table_name;</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">SELECT</span> * <span class="kw">FROM</span> table_name;</a></code></pre></div>
<p>比如说从Persons表选取LastName和FirstName两列的结果：</p>
<div class="sourceCode" id="cb12" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">SELECT</span> LastName,FirstName <span class="kw">FROM</span> Persons;</a></code></pre></div>
<p>又或者从Persons表选取所有列的结果：</p>
<div class="sourceCode" id="cb13" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">SELECT</span> * <span class="kw">FROM</span> Persons;</a></code></pre></div>
<h1 id="修改数据">
<span class="header-section-number">8</span> 修改数据</h1>
<p>UPDATE语句用于修改表中的数据，一般与WHERE子句配合使用。</p>
<div class="sourceCode" id="cb14" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">UPDATE</span> table_name <span class="kw">SET</span> columnA=newValueA, columnB=newValueB, ...;</a></code></pre></div>
<p>比如说修改王小明的地址：</p>
<div class="sourceCode" id="cb15" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">UPDATE</span> Persons <span class="kw">SET</span> Address=<span class="st">'No.5 Avenue'</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">    <span class="kw">WHERE</span> LastName=<span class="st">'Wang'</span> <span class="kw">AND</span> FirstName=<span class="st">'Xiaoming'</span>;</a></code></pre></div>
<h1 id="删除数据">
<span class="header-section-number">9</span> 删除数据</h1>
<p>DELETE 语句用于删除表中的行，一般与WHERE子句配合使用。</p>
<div class="sourceCode" id="cb16" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">DELETE</span> <span class="kw">FROM</span> table_name [<span class="kw">WHERE</span> Clause];</a></code></pre></div>
<p>比如说从Persons表中删除王小明的数据：</p>
<div class="sourceCode" id="cb17" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">DELETE</span> <span class="kw">FROM</span> Persons <span class="kw">WHERE</span> LastName=<span class="st">'Wang'</span> <span class="kw">AND</span> FirstName=<span class="st">'Xiaoming'</span>;</a></code></pre></div>
<h1 id="where">
<span class="header-section-number">10</span> WHERE</h1>
<p>如需有条件地从表中选取数据进行操作(查询、修改、删除等)，可将WHERE子句添加到对应SQL语句。 比如说从Persons表中删除王小明的数据：</p>
<div class="sourceCode" id="cb18" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">DELETE</span> <span class="kw">FROM</span> Persons <span class="kw">WHERE</span> LastName=<span class="st">'Wang'</span> <span class="kw">AND</span> FirstName=<span class="st">'Xiaoming'</span>;</a></code></pre></div>
<h1 id="andor">
<span class="header-section-number">11</span> AND、OR</h1>
<p>AND和OR可在WHERE子语句中把多个条件结合起来进行逻辑运算。<br>
AND是逻辑与运算，需要所有条件都成立。<br>
OR是逻辑或运算，只需要其中一个条件成立即可。<br>
比如说从Persons表中删除王小明的数据：</p>
<div class="sourceCode" id="cb19" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">DELETE</span> <span class="kw">FROM</span> Persons <span class="kw">WHERE</span> LastName=<span class="st">'Wang'</span> <span class="kw">AND</span> FirstName=<span class="st">'Xiaoming'</span>;</a></code></pre></div>
<h1 id="order-by">
<span class="header-section-number">12</span> ORDER BY</h1>
<p>ORDER BY语句可用于根据指定的列对结果集进行排序。<br>
ORDER BY语句默认排序为升序。<br>
如果您希望按照降序对结果进行排序，可以使用 <code>DESC</code> 关键字。<br>
比如说以逆字母顺序显示公司名称，并以数字顺序显示订单号：</p>
<div class="sourceCode" id="cb20" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">SELECT</span> * <span class="kw">FROM</span> Orders <span class="kw">ORDER</span> <span class="kw">BY</span> Company <span class="kw">DESC</span>, OrderNumber <span class="kw">ASC</span>;</a></code></pre></div>
<h1 id="distinct">
<span class="header-section-number">13</span> DISTINCT</h1>
<p>符合条件的结果可能存在重复项，如需去除重复项可以使用 <code>DISTINCT</code> 关键字。</p>
<div class="sourceCode" id="cb21" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> LastName,FirstName <span class="kw">FROM</span> Persons;</a></code></pre></div>
<h1 id="别名alias">
<span class="header-section-number">14</span> 别名Alias</h1>
<p>通过使用 <code>AS</code> 关键字，可以为列和表指定别名(Alias)。</p>
<h2 id="表的别名">
<span class="header-section-number">14.1</span> 表的别名</h2>
<div class="sourceCode" id="cb22" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb22-1" data-line-number="1">table_name <span class="kw">AS</span> alias_name</a></code></pre></div>
<p>假设我们有两个表分别是："Persons"和"Orders"，分别指定别名为"p"和"o"。<br>
通过以下SQL语句可以列出"John Adams"的所有订单：</p>
<div class="sourceCode" id="cb23" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">SELECT</span> o.Id, p.LastName, p.FirstName</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">    <span class="kw">FROM</span> Persons <span class="kw">AS</span> p, Orders <span class="kw">AS</span> o</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">        <span class="kw">WHERE</span> p.LastName=<span class="st">'Adams'</span> <span class="kw">AND</span> p.FirstName=<span class="st">'John'</span>;</a></code></pre></div>
<p>不使用别名则需要这么写：</p>
<div class="sourceCode" id="cb24" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">SELECT</span> Orders.Id, Persons.LastName, Persons.FirstName</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">    <span class="kw">FROM</span> Persons, Orders</a>
<a class="sourceLine" id="cb24-3" data-line-number="3">        <span class="kw">WHERE</span> Persons.LastName=<span class="st">'Adams'</span> <span class="kw">AND</span> Persons.FirstName=<span class="st">'John'</span>;</a></code></pre></div>
<p>另外当过滤条件涉及到同一表中某些列之间的关系，使用别名可以很好地解决。<br>
比如说列出比领导赚得更多的员工：</p>
<table>
<thead><tr class="header">
<th>Id</th>
<th>Name</th>
<th>Salary</th>
<th>ManagerId</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Joe</td>
<td>7000</td>
<td>3</td>
</tr>
<tr class="even">
<td>2</td>
<td>Henry</td>
<td>8000</td>
<td>4</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Sam</td>
<td>6000</td>
<td>NULL</td>
</tr>
<tr class="even">
<td>4</td>
<td>Max</td>
<td>9000</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb25" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">SELECT</span> E1.Name <span class="kw">AS</span> Employee</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">    <span class="kw">FROM</span> Employee <span class="kw">AS</span> E1, Employee <span class="kw">AS</span> E2</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">        <span class="kw">WHERE</span> E1.ManagerId=E2.Id <span class="kw">AND</span> E1.Salary&gt;E2.Salary;</a></code></pre></div>
<h2 id="列的别名">
<span class="header-section-number">14.2</span> 列的别名</h2>
<div class="sourceCode" id="cb26" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb26-1" data-line-number="1">column_name <span class="kw">AS</span> alias_name</a></code></pre></div>
<p>比如说LastName取别名为Family，FirstName取别名为Name：</p>
<div class="sourceCode" id="cb27" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">SELECT</span> LastName <span class="kw">AS</span> Family, FirstName <span class="kw">AS</span> Name <span class="kw">FROM</span> Persons;</a></code></pre></div>
<h1 id="join">
<span class="header-section-number">15</span> JOIN</h1>
<p>JOIN用于根据多个表中列之间的关系，从这些表中查询数据。</p>
<h1 id="union">
<span class="header-section-number">16</span> UNION</h1>
<p>UNION用于合并多个SELECT语句的结果集。<br>
需要注意的是这些SELECT语句必须拥有相同列数、列数据类型、列定义顺序。 比如说列出所有在中国和美国的不同的雇员名：</p>
<div class="sourceCode" id="cb28" data-org-language="sqlite"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">SELECT</span> Name <span class="kw">FROM</span> Employees_China</a>
<a class="sourceLine" id="cb28-2" data-line-number="2">    <span class="kw">UNION</span> <span class="kw">SELECT</span> Name <span class="kw">FROM</span> Employees_USA；</a></code></pre></div>


        </article>
        
        <div class="ui horizontal grey divider header">Modified at: October 13, 2017</div>
        
        <div class="ui hidden divider"></div>
        <a href="../../../../about#reward">
          <img class="ui centered image" src="../../../../assets/images/reward.png">
        </a>
    </div>
    <div class="ui secondary segment">
        <div class="ui list">
            
            <a class="item" href="../../09/node.js%E5%BC%82%E6%AD%A5%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">
                <div class="ui url blue label">« Prev</div>Node.js异步流程控制
            </a>
            
            
            <a class="item" href="../../11/%E9%80%9A%E8%BF%87iframe%E5%9C%A8%E5%8D%9A%E5%AE%A2%E5%9B%ADcnblogs%E8%BD%AC%E8%BD%BD%E5%8D%9A%E6%96%87/">
                <div class="ui url blue label">» Next</div>通过iframe在博客园cnblogs转载博文
            </a>
            
        </div>
    </div>
    <div class="ui blue segment">
		
        <script>
         var idcomments_acct = 'c5bb6e189e91abf8985279b97aa3ab46';
         var idcomments_post_id;
         var idcomments_post_url;
        </script>
        <span id="IDCommentsPostTitle" style="display:none"></span>
        <script type="text/javascript" src="https://www.intensedebate.com/js/genericCommentWrapperV2.js" defer></script>
		
    </div>
    <div class="sidebar-toggle" style="display: none">
		<div class="sidebar-toggle-line-wrap">
			<span class="sidebar-toggle-line sidebar-toggle-line-first" style="top: 0px; transform: rotateZ(0deg); width: 100%; opacity: 1; left: 0px;"></span>
			<span class="sidebar-toggle-line sidebar-toggle-line-middle" style="opacity: 1; width: 100%; left: 0px; top: 0px; transform: rotateZ(0deg);"></span>
			<span class="sidebar-toggle-line sidebar-toggle-line-last" style="top: 0px; transform: rotateZ(0deg); width: 100%; opacity: 1; left: 0px;"></span>
		</div>
    </div>
    <div class="back-to-top"></div>
</div>
<script type="text/javascript">
 function genTocAtLevel(sp, dp, lvl) {
     c = sp.find('>ul>li');
     if (0 != c.length) {
         c.each(function(i,n){
             nn = $(n);
             itStr = '<div class="item"></div>';
             dp.append(itStr);

             it = dp.find('>.item:last');
             a = nn.find('>a');
             if (0 != a.length) {
                 //console.log('level: '+lvl+' item: '+a.text());
                 // clear id in case of internal links
                 a.children().attr('id', '');

                 it.append(a.first().clone());
             }
             if (0 != nn.find('>ul>li').length){
                 mnStr = '<div class="menu"></div>';
                 it.append(mnStr);
                 mn = it.find('>.menu');
                 genTocAtLevel(nn, mn, lvl+1);
             }
         });
     }
 }
</script>

                </div>
				        <div id="page-loader" class="ui centered inline loader"></div>
            </div>
            <div class="ui hidden divider placeholder"></div>

            <footer class="ui inverted vertical center aligned segment">
                <div class="ui container">
                    <script type="text/javascript">
                    document.write("<p>Copyright © 2011-xxxx by 时聆心语&nbsp;&nbsp;·&nbsp;&nbsp;Powered by Nanoc, Pandoc, Semantic UI, Travis CI, GitHub Pages, etc.</p>".replace('xxxx', new Date().getFullYear()));
                    </script>
                </div>
            </footer>   

        </div>

  

        <!-- JS Includes -->
        <script src="../../../../assets/jquery.min.js"></script>
        <script src="../../../../assets/semantic.min.js"></script>
        <script src="../../../../assets/iframeResizer.contentWindow.min.js"></script>
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript" defer></script>
    </body>
    <script type="text/javascript">
     $(document).ready(function(){
    	   $('.page.header').visibility({
             type: 'fixed'
         });

     $('.back-to-top').on('click', function () {
        $('html,body').animate({scrollTop: 0}, 100);
     });

     $('span.header-section-number ~ span[data-tag-name]').each(function(i,n){
         nn = $(n);
         nn.text(nn.attr('data-tag-name'));
     });

         if (0 != $('#_home_page_').length) {
             hp = $('#_home_page_');
             hp.data('cur_page', 1);

		         $('.page.content > .container').visibility({
			           once: false,
			           // update size when new content loads
			           observeChanges: true,
			           // load content on bottom edge visible
			           onBottomVisible: function() {
				             $('#page-loader').addClass('visible');
					           getPaginatedArticles(hp.data('cur_page')+1);
		             }
			       });
         }

         if (0 != $('#_SRC_TOC_').length){
             $('.sidebar').sidebar({ transition: 'overlay', dimPage: false }).sidebar('toggle');

             sp = $('#_SRC_TOC_');
             dp = $('#_dst_toc_');
             genTocAtLevel(sp, dp, 1);

            $('.sidebar-toggle').show().on('click', function () {
                $('.sidebar').sidebar({ transition: 'overlay', dimPage: false }).sidebar('toggle');
            });
         }
		     $(window).bind('hashchange', function() {
			       if (location.hash) {
				         var target = $(decodeURI(location.hash));
				         if(target.length==1) {
			    	         var top = target.offset().top-$('.page.header').height();
					           if(top > 0)
					               {
					                   $('html,body').animate({scrollTop:top}, 100);
					               }
				         }
				         //location.hash = '';
				         history.replaceState("", document.title, window.location.pathname + window.location.search);
			       }
		     });
     });
    </script>
</html>
